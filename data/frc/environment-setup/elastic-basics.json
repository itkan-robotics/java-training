{
  "title": "Elastic Basics",
  "sections": [
    {
      "type": "text",
      "title": "Introduction to Elastic",
      "content": "Elastic is a modern web-based dashboard tool for FRC robots that provides real-time data visualization and robot monitoring. It runs in a web browser and connects to your robot over the network, making it accessible from any device on your network. Elastic offers a flexible, customizable interface for displaying sensor data, robot state, and interactive controls.<br><br>Elastic is part of the WPILib dashboard ecosystem and provides an alternative to SmartDashboard and Shuffleboard with a modern web-based interface. It's particularly useful for teams that want a browser-based dashboard that can be accessed from multiple devices simultaneously.<br><br><strong>Learn more:</strong><br> <a href='https://docs.wpilib.org/en/stable/docs/software/dashboards/elastic.html' target='_blank'>WPILib Documentation: Elastic</a><br><a href='https://frc-elastic.gitbook.io/docs' target='_blank'>Official Elastic Documentation</a>"
    },
    {
      "type": "rules-box",
      "title": "What Elastic Provides",
      "subtitle": "Elastic allows you to:",
      "items": [
        "Display sensor values and robot state in real-time via web browser",
        "Create custom dashboard layouts with drag-and-drop widgets",
        "Monitor motor speeds, currents, and temperatures",
        "View robot pose and position on field visualization",
        "Plot data over time with interactive graphs",
        "Access dashboard from multiple devices simultaneously",
        "Create responsive layouts that work on different screen sizes",
        "Use modern web technologies for better performance"
      ]
    },
    {
      "type": "text",
      "title": "Installing and Launching Elastic",
      "content": "Elastic is included with WPILib installation. It runs as a web server that you access through your browser.<br><br><strong>Installation:</strong> Elastic is typically installed automatically with WPILib. If needed, ensure you have the latest WPILib version installed from the <a href='https://github.com/wpilibsuite/allwpilib/releases' target='_blank'>WPILib releases page</a>.<br><br><strong>Launching Elastic:</strong><br>1. Ensure your robot code is running and connected to the network<br>2. Elastic runs automatically when your robot code starts (if configured)<br>3. Open a web browser on any device connected to the same network<br>4. Navigate to the robot's IP address (e.g., <code>http://10.12.34.2</code> for team 1234)<br>5. The Elastic dashboard interface will load in your browser<br><br><strong>Team Number Configuration:</strong> Elastic uses your team number to determine the robot's IP address. Make sure your robot's team number is configured correctly in your project settings."
    },
    {
      "type": "text",
      "title": "Elastic Interface Overview",
      "content": "Elastic provides a modern web-based interface that you access through any web browser. The interface is responsive and works on desktops, tablets, and mobile devices.<br><br><strong>Main Components:</strong><br>- <strong>Dashboard Canvas:</strong> Main area where widgets are placed and arranged<br>- <strong>Widget Library:</strong> Sidebar or menu with available widget types<br>- <strong>Configuration Panel:</strong> Settings and properties for selected widgets<br>- <strong>Toolbar:</strong> Tools for adding, removing, and arranging widgets<br><br><strong>Widget Types:</strong> Elastic provides various widget types:<br>- <strong>Basic:</strong> Number, String, Boolean, Text displays<br>- <strong>Charts:</strong> Line charts, bar charts, gauge displays<br>- <strong>Field Visualization:</strong> 2D field view with robot pose<br>- <strong>Controls:</strong> Buttons, sliders, input fields<br>- <strong>Media:</strong> Camera streams, image displays<br><br><strong>Layout Management:</strong> You can create multiple dashboard tabs, save layouts, and customize the interface to match your team's needs."
    },
    {
      "type": "text",
      "title": "Displaying Data from Robot Code",
      "content": "To display data in Elastic, you use NetworkTables to send data from your robot code. NetworkTables is the underlying communication protocol that Elastic uses to receive data from your robot.<br><br><strong>Using NetworkTables:</strong> Elastic automatically receives data published to NetworkTables. You can use the NetworkTables API or the SmartDashboard compatibility layer to send data.<br><br><strong>Basic NetworkTables Methods:</strong><br>- <code>NetworkTableInstance.getDefault().getTable(\"SmartDashboard\").getEntry(\"key\").setDouble(value)</code> - Send a number<br>- <code>NetworkTableInstance.getDefault().getTable(\"SmartDashboard\").getEntry(\"key\").setString(value)</code> - Send text<br>- <code>NetworkTableInstance.getDefault().getTable(\"SmartDashboard\").getEntry(\"key\").setBoolean(value)</code> - Send true/false<br><br><strong>SmartDashboard Compatibility:</strong> For easier migration, you can continue using SmartDashboard.put methods, which will work with Elastic through NetworkTables.<br><br>Learn more: <a href='https://docs.wpilib.org/en/stable/docs/software/dashboards/elastic.html' target='_blank'>WPILib Documentation: Elastic Dashboard</a>"
    },
    {
      "type": "code",
      "title": "Sending Data to Elastic Using NetworkTables",
      "content": "import edu.wpi.first.networktables.NetworkTableInstance;\nimport edu.wpi.first.networktables.NetworkTable;\n\npublic class ExampleSubsystem {\n    private NetworkTable m_table;\n    private double motorSpeed = 0.5;\n    private String status = \"Running\";\n    private boolean isEnabled = true;\n    \n    public ExampleSubsystem() {\n        // Get the SmartDashboard table (Elastic reads from here)\n        m_table = NetworkTableInstance.getDefault().getTable(\"SmartDashboard\");\n    }\n    \n    public void updateDashboard() {\n        // Send a number\n        m_table.getEntry(\"Motor Speed\").setDouble(motorSpeed);\n        \n        // Send a string\n        m_table.getEntry(\"Robot Status\").setString(status);\n        \n        // Send a boolean\n        m_table.getEntry(\"System Enabled\").setBoolean(isEnabled);\n        \n        // Send multiple values\n        m_table.getEntry(\"Left Motor\").setDouble(0.75);\n        m_table.getEntry(\"Right Motor\").setDouble(0.75);\n        m_table.getEntry(\"Arm Position\").setDouble(45.0);\n    }\n}"
    },
    {
      "type": "code",
      "title": "Using SmartDashboard Compatibility Layer",
      "content": "import edu.wpi.first.wpilibj.smartdashboard.SmartDashboard;\n\npublic class ExampleSubsystem {\n    private double motorSpeed = 0.5;\n    private String status = \"Running\";\n    private boolean isEnabled = true;\n    \n    public void updateDashboard() {\n        // SmartDashboard methods work with Elastic through NetworkTables\n        SmartDashboard.putNumber(\"Motor Speed\", motorSpeed);\n        SmartDashboard.putString(\"Robot Status\", status);\n        SmartDashboard.putBoolean(\"System Enabled\", isEnabled);\n        \n        // Multiple values\n        SmartDashboard.putNumber(\"Left Motor\", 0.75);\n        SmartDashboard.putNumber(\"Right Motor\", 0.75);\n        SmartDashboard.putNumber(\"Arm Position\", 45.0);\n    }\n}"
    },
    {
      "type": "text",
      "title": "Creating Dashboard Layouts",
      "content": "Elastic allows you to create custom dashboard layouts by adding and arranging widgets. The web-based interface makes it easy to design dashboards that fit your team's needs.<br><br><strong>Adding Widgets:</strong><br>1. Open Elastic in your web browser<br>2. Click the \"Add Widget\" button or use the widget library<br>3. Select the widget type you want (Number, Chart, Field, etc.)<br>4. Configure the widget's data source (NetworkTables key)<br>5. Position and resize the widget on the dashboard<br><br><strong>Widget Configuration:</strong> Each widget needs to be configured with a NetworkTables key that matches the key used in your robot code. The key is case-sensitive, so ensure it matches exactly.<br><br><strong>Layout Customization:</strong> Elastic supports drag-and-drop widget arrangement, resizing, and multiple dashboard tabs. You can create different layouts for different purposes (driver view, tuning view, debugging view, etc.)."
    },
    {
      "type": "text",
      "title": "Interactive Controls",
      "content": "Elastic can read values from widgets, allowing you to create interactive controls that your robot code can respond to in real-time.<br><br><strong>Reading Values:</strong> Use NetworkTables to read widget values from Elastic:<br>- <code>NetworkTableInstance.getDefault().getTable(\"SmartDashboard\").getEntry(\"key\").getDouble(defaultValue)</code> - Read a number<br>- <code>NetworkTableInstance.getDefault().getTable(\"SmartDashboard\").getEntry(\"key\").getString(defaultValue)</code> - Read text<br>- <code>NetworkTableInstance.getDefault().getTable(\"SmartDashboard\").getEntry(\"key\").getBoolean(defaultValue)</code> - Read true/false<br><br><strong>SmartDashboard Compatibility:</strong> You can also use SmartDashboard.get methods, which work with Elastic through NetworkTables.<br><br><strong>Creating Controls:</strong> Add button or slider widgets in Elastic and configure them to write to NetworkTables keys. Your robot code reads these keys to respond to user input.<br><br>Learn more: <a href='https://docs.wpilib.org/en/stable/docs/software/dashboards/elastic.html' target='_blank'>WPILib Documentation: Elastic Interactive Controls</a>"
    },
    {
      "type": "code",
      "title": "Reading Values from Elastic",
      "content": "import edu.wpi.first.networktables.NetworkTableInstance;\nimport edu.wpi.first.networktables.NetworkTable;\n\npublic class ExampleSubsystem {\n    private NetworkTable m_table;\n    private double targetSpeed;\n    private boolean enableSystem;\n    \n    public ExampleSubsystem() {\n        m_table = NetworkTableInstance.getDefault().getTable(\"SmartDashboard\");\n    }\n    \n    public void readDashboard() {\n        // Read a number (with default value if key doesn't exist)\n        targetSpeed = m_table.getEntry(\"Target Speed\").getDouble(0.5);\n        \n        // Read a boolean (with default value)\n        enableSystem = m_table.getEntry(\"Enable System\").getBoolean(false);\n        \n        // Read a string\n        String mode = m_table.getEntry(\"Robot Mode\").getString(\"Teleop\");\n        \n        // Use the values in your code\n        if (enableSystem) {\n            setMotorSpeed(targetSpeed);\n        }\n    }\n}"
    },
    {
      "type": "code",
      "title": "Complete Subsystem with Elastic Integration",
      "content": "package frc.robot.subsystems;\n\nimport edu.wpi.first.wpilibj.smartdashboard.SmartDashboard;\nimport edu.wpi.first.wpilibj2.command.SubsystemBase;\nimport com.revrobotics.CANSparkMax;\nimport com.revrobotics.CANSparkMaxLowLevel.MotorType;\n\npublic class Arm extends SubsystemBase {\n    private final CANSparkMax m_armMotor = new CANSparkMax(3, MotorType.kBrushless);\n    private double m_targetPosition = 0.0;\n    private boolean m_pidEnabled = false;\n    \n    public Arm() {\n        // Initialize default dashboard values\n        SmartDashboard.putNumber(\"Arm Target Position\", 0.0);\n        SmartDashboard.putBoolean(\"Arm PID Enabled\", false);\n    }\n    \n    @Override\n    public void periodic() {\n        // Read values from Elastic dashboard\n        m_targetPosition = SmartDashboard.getNumber(\"Arm Target Position\", 0.0);\n        m_pidEnabled = SmartDashboard.getBoolean(\"Arm PID Enabled\", false);\n        \n        // Update Elastic dashboard with current values\n        SmartDashboard.putNumber(\"Arm Current Position\", m_armMotor.getEncoder().getPosition());\n        SmartDashboard.putNumber(\"Arm Current Speed\", m_armMotor.getEncoder().getVelocity());\n        SmartDashboard.putNumber(\"Arm Current\", m_armMotor.getOutputCurrent());\n        SmartDashboard.putBoolean(\"Arm At Target\", isAtPosition(m_targetPosition, 2.0));\n        \n        // Control arm based on dashboard values\n        if (m_pidEnabled) {\n            // Use PID to move to target position\n            // (PID implementation would go here)\n        }\n    }\n    \n    private boolean isAtPosition(double target, double tolerance) {\n        double current = m_armMotor.getEncoder().getPosition();\n        return Math.abs(current - target) < tolerance;\n    }\n}"
    },
    {
      "type": "text",
      "title": "Advanced Widget Types",
      "content": "Elastic provides advanced widgets for complex data visualization and robot monitoring.<br><br><strong>Chart Widgets:</strong> Create line charts, bar charts, and gauge displays to visualize data over time. Useful for monitoring sensor readings, motor performance, or PID tuning.<br><br><strong>Field Visualization:</strong> Display a 2D visualization of the game field with your robot's position and orientation. Requires pose estimation (odometry) in your robot code. Extremely useful for autonomous development and debugging.<br><br><strong>Command and Subsystem Widgets:</strong> Show the status of commands and subsystems in command-based programming. Displays which commands are running, scheduled, or interrupted, and subsystem states.<br><br><strong>Camera Stream Widgets:</strong> Display video feeds from cameras connected to the robot. Useful for driver vision and autonomous navigation.<br><br><strong>Custom Widgets:</strong> Elastic supports custom widget development, allowing teams to create specialized visualizations for their specific needs."
    },
    {
      "type": "text",
      "title": "Field Visualization with Elastic",
      "content": "Elastic's Field widget displays a 2D visualization of the game field with your robot's position. This is extremely useful for autonomous development and debugging.<br><br><strong>Setting Up Field Visualization:</strong><br>1. Add a Field widget to your Elastic dashboard<br>2. Configure it with the current game field image<br>3. Your robot code sends pose data (x, y, rotation) to NetworkTables<br>4. The widget displays robot position in real-time<br><br><strong>In Robot Code:</strong> Use <code>Field2d</code> class to send pose data to NetworkTables. This requires pose estimation (odometry) in your robot code. The Field2d object publishes to NetworkTables automatically.<br><br><strong>Benefits:</strong> Visualizing robot position helps debug autonomous paths, verify odometry accuracy, and understand robot behavior during matches. Multiple team members can view the field visualization simultaneously from different devices."
    },
    {
      "type": "code",
      "title": "Sending Field Pose Data to Elastic",
      "content": "import edu.wpi.first.math.geometry.Pose2d;\nimport edu.wpi.first.math.geometry.Rotation2d;\nimport edu.wpi.first.wpilibj.smartdashboard.Field2d;\n\npublic class Drivetrain extends SubsystemBase {\n    private final Field2d m_field = new Field2d();\n    private Pose2d m_robotPose;\n    \n    public Drivetrain() {\n        // Field2d automatically publishes to NetworkTables\n        // Elastic will automatically display it\n        SmartDashboard.putData(\"Field\", m_field);\n    }\n    \n    @Override\n    public void periodic() {\n        // Update robot pose (from odometry)\n        m_robotPose = getOdometryPose();\n        \n        // Update field visualization\n        m_field.setRobotPose(m_robotPose);\n        \n        // You can also add trajectory visualizations\n        // m_field.getObject(\"trajectory\").setTrajectory(trajectory);\n    }\n}"
    },
    {
      "type": "text",
      "title": "Multi-Device Access",
      "content": "One of Elastic's key advantages is that multiple devices can access the dashboard simultaneously. This is useful for teams where multiple people need to monitor the robot.<br><br><strong>Accessing from Multiple Devices:</strong><br>- Open a web browser on any device connected to the same network<br>- Navigate to the robot's IP address<br>- Each device gets its own view of the dashboard<br>- Changes to the dashboard layout are typically per-device (browser-based)<br><br><strong>Use Cases:</strong><br>- Driver and operator can each have their own dashboard view<br>- Programming team can monitor robot during testing<br>- Strategy team can view robot state during matches<br>- Multiple team members can debug simultaneously<br><br><strong>Network Considerations:</strong> Ensure your network can handle multiple connections. Elastic is designed to be efficient, but very high update rates from multiple devices may impact network performance."
    },
    {
      "type": "code",
      "title": "Efficient Dashboard Update Pattern",
      "content": "public class Drivetrain extends SubsystemBase {\n    private final CANSparkMax m_leftMotor = new CANSparkMax(1, MotorType.kBrushless);\n    private final CANSparkMax m_rightMotor = new CANSparkMax(2, MotorType.kBrushless);\n    \n    // Update counter to limit update frequency\n    private int m_updateCounter = 0;\n    private static final int UPDATE_RATE = 10; // Update every 10 cycles (~2 Hz)\n    \n    @Override\n    public void periodic() {\n        // Only update dashboard periodically, not every cycle\n        if (m_updateCounter++ % UPDATE_RATE == 0) {\n            updateDashboard();\n        }\n    }\n    \n    private void updateDashboard() {\n        // Group related data with consistent naming\n        SmartDashboard.putNumber(\"Drivetrain/Left Speed\", m_leftMotor.get());\n        SmartDashboard.putNumber(\"Drivetrain/Right Speed\", m_rightMotor.get());\n        SmartDashboard.putNumber(\"Drivetrain/Left Current\", m_leftMotor.getOutputCurrent());\n        SmartDashboard.putNumber(\"Drivetrain/Right Current\", m_rightMotor.getOutputCurrent());\n    }\n}"
    },
    {
      "type": "text",
      "title": "Reading Interactive Controls",
      "content": "Elastic allows you to create interactive controls (buttons, sliders, input fields) that your robot code can read. This is useful for tuning parameters, triggering actions, and testing without physical controls."
    },
    {
      "type": "code",
      "title": "Reading Controls from Elastic Dashboard",
      "content": "public class ExampleCommand extends CommandBase {\n    @Override\n    public void execute() {\n        // Read button state from Elastic dashboard\n        boolean resetEncoders = SmartDashboard.getBoolean(\"Reset Encoders\", false);\n        \n        if (resetEncoders) {\n            // Reset encoders when button is pressed\n            resetAllEncoders();\n            \n            // Reset the button state (optional)\n            SmartDashboard.putBoolean(\"Reset Encoders\", false);\n        }\n        \n        // Read slider values for tuning\n        double kP = SmartDashboard.getNumber(\"PID kP\", 0.1);\n        double kI = SmartDashboard.getNumber(\"PID kI\", 0.0);\n        double kD = SmartDashboard.getNumber(\"PID kD\", 0.01);\n        \n        // Update PID constants from dashboard\n        updatePIDConstants(kP, kI, kD);\n    }\n}"
    },
    {
      "type": "text",
      "title": "Performance Considerations",
      "content": "Elastic sends data over the network using NetworkTables, so efficient data management is important for good performance.<br><br><strong>Network Bandwidth:</strong> Each dashboard update uses network bandwidth. Too many updates or too much data can slow down robot communication. Use reasonable update frequencies.<br><br><strong>Update Frequency:</strong> Most data doesn't need to update every cycle. Update at reasonable rates (5-20 Hz) depending on the data type. Critical data can update more frequently, while status information can update less frequently.<br><br><strong>Data Amount:</strong> Sending large amounts of data (like high-resolution images or large arrays) can be slow. Use efficient data types and only send what's necessary for the dashboard.<br><br><strong>Multiple Connections:</strong> Elastic supports multiple simultaneous connections, but each connection uses network resources. Monitor network performance if many devices are connected simultaneously.<br><br><strong>Browser Performance:</strong> Complex dashboards with many widgets can impact browser performance. Keep dashboards focused on essential data and use efficient widget configurations."
    },
    {
      "type": "text",
      "title": "Elastic vs Other Dashboards",
      "content": "Elastic offers several advantages over traditional FRC dashboards:<br><br><strong>Web-Based:</strong> Access from any device with a web browser, no separate application installation needed<br><br><strong>Multi-Device:</strong> Multiple team members can view the dashboard simultaneously from different devices<br><br><strong>Modern Interface:</strong> Responsive design that works on desktops, tablets, and mobile devices<br><br><strong>NetworkTables Based:</strong> Uses NetworkTables for communication, compatible with other NetworkTables-based tools<br><br><strong>Customizable:</strong> Flexible layout system allows teams to create dashboards tailored to their needs<br><br>However, SmartDashboard and Shuffleboard remain valid options. Choose the dashboard tool that best fits your team's workflow and needs."
    },
    {
      "type": "link-grid",
      "title": "Related Topics",
      "links": [
        {
		  "label": "Driver Station Setup", 
		  "url": "driver-station-setup"},
        {
		  "label": "Basic Robot Structure", 
		  "url": "frc-basic-robot-structure"},
        {
		  "label": "Command-Based Programming", 
		  "url": "command-based-intro"}
      ]
    }
  ]
}
